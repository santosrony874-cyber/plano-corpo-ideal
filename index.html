<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Plano Corpo Ideal — Plano Personalizado</title>
<style>
/* ====== ESTILO (mantido) ====== */
:root{
  --bg:#0b1220; --card:#0f1a33; --card2:#101d3a;
  --text:#eaf0ff; --muted:#a7b3d6;
  --accent:#2ecc71; --danger:#ff5a6a;
  --line:rgba(255,255,255,.10);
  --radius:18px; --max:560px;
}
*{box-sizing:border-box}
body{
  margin:0;font-family:system-ui,Arial,sans-serif;
  color:var(--text);
  background:#0b1220;
  min-height:100vh;display:flex;justify-content:center;
}
.wrap{width:100%;max-width:var(--max);padding:18px 14px 90px}
.progress{height:10px;border-radius:999px;background:rgba(255,255,255,.1);overflow:hidden}
.bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),#23b862)}
.card{margin-top:14px;border-radius:var(--radius);background:#0f1a33;border:1px solid var(--line)}
.step{display:none;padding:16px}
.step.active{display:block}
.choice{
  padding:14px;border-radius:14px;border:1px solid var(--line);
  margin-top:10px;cursor:pointer;
}
.choice.selected{border-color:var(--accent);background:rgba(46,204,113,.15)}
.nav{position:fixed;left:0;right:0;bottom:0;padding:12px;background:#0b1220}
.nav-inner{max-width:var(--max);margin:auto;display:flex;gap:10px}
.btn{flex:1;padding:14px;border-radius:14px;border:none;font-weight:800}
.btn.primary{background:var(--accent);color:#062012}
.btn.ghost{background:#1b2a4a;color:#fff}
.toast{display:none;color:#ffd4d9;font-size:13px;margin-top:10px}
</style>
</head>

<body>
<div class="wrap">
  <div class="progress"><div class="bar" id="bar"></div></div>

  <div class="card">
    <section class="step active" data-key="nome">
      <h2>Qual é o seu nome?</h2>
      <input id="nome" placeholder="Ex: Rony">
      <div class="toast" id="t0">Digite seu nome</div>
    </section>

    <section class="step" data-key="idade">
      <h2>Qual sua idade?</h2>
      <input id="idade" type="number">
      <div class="toast" id="t1">Informe sua idade</div>
    </section>

    <section class="step" data-key="status">
      <h2>Você treina atualmente?</h2>
      <div class="choice" data-value="Sedentário">Sedentário</div>
      <div class="choice" data-value="Voltando agora">Voltando agora</div>
      <div class="choice" data-value="Treino regularmente">Treino regularmente</div>
      <div class="toast" id="t2">Escolha uma opção</div>
    </section>

    <section class="step" data-key="checkout">
      <h2>Resumo do seu plano</h2>
      <div id="summary"></div>
      <p><b>Valor:</b> R$ 39,90</p>
    </section>
  </div>
</div>

<div class="nav">
  <div class="nav-inner">
    <button class="btn ghost" id="backBtn">Voltar</button>
    <button class="btn primary" id="nextBtn">Continuar</button>
  </div>
</div>

<script>
const steps=[...document.querySelectorAll(".step")];
const bar=document.getElementById("bar");
let current=0;

const state={};

function showStep(i){
  steps.forEach((s,idx)=>s.classList.toggle("active",idx===i));
  bar.style.width=((i+1)/steps.length*100)+"%";
  document.getElementById("nextBtn").textContent=
    i===steps.length-1?"Ir para pagamento":"Continuar";
}

document.querySelectorAll(".choice").forEach(c=>{
  c.onclick=()=>{
    c.parentElement.querySelectorAll(".choice")
      .forEach(x=>x.classList.remove("selected"));
    c.classList.add("selected");
  };
});

function validateStep(){
  const step=steps[current];
  const key=step.dataset.key;

  const input=step.querySelector("input");
  if(input){
    if(!input.value){step.querySelector(".toast").style.display="block";return false;}
    state[key]=input.value;return true;
  }

  const selected=step.querySelector(".choice.selected");
  if(selected){
    state[key]=selected.dataset.value;return true;
  }

  return true;
}

function nextStep(){
  if(!validateStep())return;

  if(current===steps.length-1){
    localStorage.setItem("pci_quiz",JSON.stringify(state));
    window.location.href="https://pay.kiwify.com.br/2aHDqEE";
    return;
  }
  current++;showStep(current);
}
function backStep(){if(current>0){current--;showStep(current)}}

document.getElementById("nextBtn").onclick=nextStep;
document.getElementById("backBtn").onclick=backStep;
showStep(0);
</script>
</body>
</html>

